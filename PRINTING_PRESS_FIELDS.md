# حقول حسابات المطابع - Printing Press Management Fields

## البحث في مستودعات GitHub

تم البحث في عدة مستودعات ومصادر لتحديد الحقول المطلوبة لنظام إدارة المطبعة.

## الحقول المشتركة في أنظمة المطابع

### 1. إدارة المخزون (Inventory Management)

#### الأوراق (Paper Stock)
| الحقل | الوصف | النوع |
|-------|-------|-------|
| `paper_type` | نوع الورق | نص |
| `paper_size` | المقاس (A4, A3, A2, A1, A0) | نص |
| `gsm` | الوزن بالجرام (70gsm, 80gsm, 100gsm) | رقم |
| `coating` | نوع الطلاء (لامع/مط/بدون) | نص |
| `quantity_sheets` | الكمية بالأوراق | رقم |
| `quantity_reams` | الكمية بالرزم | رقم |
| `unit_cost` | تكلفة الورقة الواحدة | رقم عشري |
| `supplier` | المورد | نص |
| `reorder_level` | مستوى إعادة الطلب | رقم |

#### الأحبار (Inks)
| الحقل | الوصف | النوع |
|-------|-------|-------|
| `ink_type` | نوع الحبر (CMYK, Spot colors) | نص |
| `color` | اللون | نص |
| `quantity_ml` | الكمية بالمل | رقم |
| `quantity_liters` | الكمية باللتر | رقم |
| `unit_cost` | التكلفة | رقم |
| `compatible_machines` | الآلات المتوافقة | قائمة |

#### قطع الغيار (Spare Parts)
| الحقل | الوصف | النوع |
|-------|-------|-------|
| `part_name` | اسم القطعة | نص |
| `part_number` | رقم القطعة | نص |
| `machine_model` | موديل الآلة | نص |
| `quantity` | الكمية | رقم |
| `unit_cost` | التكلفة | رقم |
| `lifespan_hours` | العمر الافتراضي بالساعات | رقم |

---

### 2. إدارة الطلبات (Job Orders)

#### بيانات الطلب
| الحقل | الوصف | النوع |
|-------|-------|-------|
| `order_id` | رقم الطلب | نص |
| `customer_name` | اسم العميل | نص |
| `customer_phone` | هاتف العميل | نص |
| `order_date` | تاريخ الطلب | تاريخ |
| `delivery_date` | تاريخ التسليم | تاريخ |
| `job_type` | نوع العمل (طباعة, تصميم, طباعة رقمية) | نص |
| `status` | الحالة (قيد الانتظار, قيد التنفيذ, مكتمل, مسلّم) | نص |
| `priority` | الأولوية (عادية, عاجلة) | نص |

#### تفاصيل الطباعة
| الحقل | الوصف | النوع |
|-------|-------|-------|
| `print_type` | نوع الطباعة (أوفست, ديجيتال, سلك سكرين) | نص |
| `paper_type` | نوع الورق المستخدم | نص |
| `paper_size` | مقاس الورق | نص |
| `quantity_copies` | عدد النسخ | رقم |
| `pages_count` | عدد الصفحات | رقم |
| `colors` | الألوان (أحادي, ملون) | نص |
| `finishing` | التشطيب (تجليد, تخريم, قص, طي) | قائمة |
| `design_required` | هل يحتاج تصميم؟ | boolean |
| `design_cost` | تكلفة التصميم | رقم |

---

### 3. حسابات التكلفة (Cost Accounting)

#### تكاليف المواد
| الحقل | الوصف | الحساب |
|-------|-------|--------|
| `paper_cost` | تكلفة الورق | quantity × unit_cost |
| `ink_cost` | تكلفة الحبر | ml_used × cost_per_ml |
| `plates_cost` | تكلفة البلايتات | plates_count × unit_cost |
| `materials_total` | إجمالي المواد | sum |

#### تكاليف العمالة
| الحقل | الوصف | الحساب |
|-------|-------|--------|
| `design_hours` | ساعات التصميم | رقم |
| `design_rate` | أجر الساعة للتصميم | رقم |
| `print_hours` | ساعات الطباعة | رقم |
| `print_rate` | أجر الساعة للطباعة | رقم |
| `labor_total` | إجمالي العمالة | (design_hours × rate) + (print_hours × rate) |

#### تكاليف الآلات (Overhead)
| الحقل | الوصف | الحساب |
|-------|-------|--------|
| `machine_depreciation` | استهلاك الآلة | hours × hourly_rate |
| `electricity_cost` | تكلفة الكهرباء | kwh × rate |
| `maintenance_alloc` | صيانة مخصصة | percentage |
| `overhead_total` | إجمالي التكاليف غير المباشرة | sum |

#### حساب السعر النهائي
| الحقل | الوصف | الحساب |
|-------|-------|--------|
| `total_cost` | التكلفة الإجمالية | materials + labor + overhead |
| `profit_margin` | نسبة الربح | نسبة مئوية |
| `profit_amount` | مبلغ الربح | total_cost × margin |
| `subtotal` | المجموع الفرعي | total_cost + profit |
| `vat_rate` | نسبة الضريبة | نسبة مئوية |
| `vat_amount` | مبلغ الضريبة | subtotal × vat |
| `total_price` | السعر النهائي | subtotal + vat |

---

### 4. الآلات والمعدات (Machines)

| الحقل | الوصف | النوع |
|-------|-------|-------|
| `machine_id` | رقم الآلة | نص |
| `machine_name` | اسم الآلة | نص |
| `machine_type` | نوع الآلة (أوفست, ديجيتال, قص, تجليد) | نص |
| `model` | الموديل | نص |
| `purchase_date` | تاريخ الشراء | تاريخ |
| `purchase_cost` | تكلفة الشراء | رقم |
| `hourly_rate` | الأجر بالساعة | رقم |
| `max_paper_size` | أكبر مقاس ورق | نص |
| `monthly_depreciation` | الاستهلاك الشهري | رقم |
| `maintenance_schedule` | جدول الصيانة | نص |
| `current_status` | الحالة الحالية | نص |
| `total_prints` | إجمالي المطبوعات | رقم |

---

### 5. العملاء والديون (Customers & Debts)

| الحقل | الوصف | النوع |
|-------|-------|-------|
| `customer_id` | رقم العميل | نص |
| `customer_name` | اسم العميل | نص |
| `company_name` | اسم الشركة | نص |
| `phone` | الهاتف | نص |
| `email` | البريد | نص |
| `credit_limit` | حد الائتمان | رقم |
| `current_balance` | الرصيد الحالي | رقم |
| `total_orders` | إجمالي الطلبات | رقم |
| `last_payment_date` | آخر دفعة | تاريخ |

---

### 6. المصروفات (Expenses)

| الحقل | الوصف | الفئة |
|-------|-------|--------|
| `rent` | الإيجار | ثابت |
| `electricity` | الكهرباء | متغير |
| `water` | الماء | متغير |
| `internet` | الإنترنت | ثابت |
| `phone` | الهاتف | متغير |
| `salaries` | الرواتب | ثابت |
| `maintenance` | الصيانة | متغير |
| `supplies` | مستلزمات | متغير |
| `marketing` | تسويق | متغير |

---

### 7. التقارير المالية (Financial Reports)

#### تقرير الدخل (Income Statement)
```
الإيرادات:
  - مبيعات الطباعة
  - خدمات التصميم
  - مبيعات المواد
  إجمالي الإيرادات

تكاليف البضاعة المباعة:
  - تكلفة المواد
  - تكلفة العمالة المباشرة
  = مجمل الربح

المصروفات التشغيلية:
  - الإيجار
  - الرواتب
  - المرافق
  - الصيانة
  - التسويق
  = إجمالي المصروفات

صافي الدخل = مجمل الربح - إجمالي المصروفات
```

#### تقرير المخزون (Inventory Report)
```
قيمة المخزون الحالية:
  - الأوراق
  - الأحبار
  - قطع الغيار
  - المواد الأخرى
  = إجمالي قيمة المخزون

مستوى المخزون:
  - العناصر منخفضة
  - العناصر نفدت
  - حركة المخزون (سريع/بطيء)
```

---

## المصادر

1. **Lakasir** - نظام POS شامل (https://github.com/lakasir)
2. **Frappe Books** - برنامج محاسبة مجاني (https://github.com/frappe/books)
3. **Microsoft Dynamics 365** - نظام تخطيط موارد المؤسسات
4. **OnPrintShop** - برامج إدارة المطابع
5. **ShopVox** - برامج إدارة متخصصة للمطابع

---

## ملاحظات التنفيذ

### للتطبيق الحالي، نحتاج إضافة:

1. **نموذج JobOrder** - لإدارة طلبات الطباعة
2. **نموذج Machine** - لإدارة الآلات والتكاليف
3. **تفاصيل أكثر للمشتريات**:
   - نوع الورق (paper_type)
   - المقاس (paper_size)
   - الوزن (gsm)
   - نوع الطلاء (coating)

4. **حسابات التكلفة للطلبات**:
   - تكلفة المواد
   - تكلفة العمالة
   - تكلفة الآلات (overhead)
   - هامش الربح
   - السعر النهائي

5. **تقارير مالية متخصصة**:
   - ربحية كل طلب
   - تكلفة المخزون
   - استخدام الآلات
